(function(_0x1b5ff5,_0x4aa12c){const _0xb38a4f=_0x240e,_0x2f9c80=_0x1b5ff5();while(!![]){try{const _0x3cbfd1=parseInt(_0xb38a4f(0x181,'(rP%'))/0x1*(-parseInt(_0xb38a4f(0x15c,'f1y1'))/0x2)+parseInt(_0xb38a4f(0x164,'g6to'))/0x3*(-parseInt(_0xb38a4f(0x176,'ynkX'))/0x4)+parseInt(_0xb38a4f(0x180,'ynkX'))/0x5*(parseInt(_0xb38a4f(0x15e,')RzB'))/0x6)+-parseInt(_0xb38a4f(0x163,'hkum'))/0x7*(-parseInt(_0xb38a4f(0x16a,'O0Z5'))/0x8)+-parseInt(_0xb38a4f(0x177,'(rP%'))/0x9*(parseInt(_0xb38a4f(0x173,'GpVV'))/0xa)+parseInt(_0xb38a4f(0x171,'DG@1'))/0xb*(parseInt(_0xb38a4f(0x17f,'2irq'))/0xc)+parseInt(_0xb38a4f(0x182,'NY&T'))/0xd;if(_0x3cbfd1===_0x4aa12c)break;else _0x2f9c80['push'](_0x2f9c80['shift']());}catch(_0x56c5bc){_0x2f9c80['push'](_0x2f9c80['shift']());}}}(_0x27c5,0x5e465));const _0x184330=(function(){let _0x1400e5=!![];return function(_0x577fe6,_0x1418bf){const _0x4445fe=_0x1400e5?function(){const _0x811c06=_0x240e;if(_0x1418bf){const _0xa75f3d=_0x1418bf[_0x811c06(0x162,'S$F7')](_0x577fe6,arguments);return _0x1418bf=null,_0xa75f3d;}}:function(){};return _0x1400e5=![],_0x4445fe;};}()),_0x4321ad=_0x184330(this,function(){const _0x3bb22f=_0x240e;return _0x4321ad['toString']()['search']('(((.+)+)+)+$')[_0x3bb22f(0x168,'!AZr')]()[_0x3bb22f(0x158,'[pJ[')](_0x4321ad)['search']('(((.+)+)+)+$');});_0x4321ad();function _0x27c5(){const _0x151a06=['xCoDyMhdQSo8sNBdQIlcUW','W6r5WRlcOmkgu8kjah7cS2LUzcrUbmoVW4hcQHZcH0iAWOFdHCowWPBcTmk/BSkbW4NdH8kQWQNdQXpdKhFdNCkoWPFdPmkmW6FdUJ0wpmo1AYJcTfRcRKvg','oZTZW7dcOq','tCkvWPdcHLW','W6jtavz7W7bKW5RcHCkWWRGT','s2nWmti3qSovW7Ktx8oD','WPO4FSoz','EmkoBLi','FghdN1b8','WPiMAmoAW4PdlfZdKvDLWRpcMCoQhCkJ','mZ9FiSknWRNcJ8kPWPvMfCkGW4zy','y8oqW6O','nCoCAColWRBcVq','B8oSWQlcUIpcHSokW7NdTSo2zCo8W7JdGCkWsCkGW7u','tN5XlWuTvSoeW44tsq','WQZdOLdcHfC','cCkKWP/cVa','WO9nvmkEoa','pmoJWQJcIbtcTmoq','BfLbqmkstxJcRGNdK0VdG3pdNmo7W7ZcV8ofBCoTWO1zW65DfCo/tNW','WPiMW7xdSmkEEmk6h0/cQuK','W6ZdMmohiCo/','sNrXoqm+v8ocW54YvmomFq','mYvTW7NcQSokW5TroW','W70KWRJcJXW','mYZcJ8k3qfG/wmkdWOBcGee','cmogWPRcUM/dHSocea','AMVdJCoWaLvhbSkYWQ/cUsHOW4xdVchcO0FdI0rkW711WO9Sw8kwWRFcGrqynSkLFKHNWPpdGmkIWRBcQHi','bWWpoSkiW5JcUSkwWRO','uKGdjIXV','idv4e8ktWRxcJmkR','W78BWQpdGa','qY/cMepcG8k1WRir','WR7dQSoXs8oxW5pdVhH0W7VcQs0','WOvlrCkzd8oGWOP3WQ4H','aSkJWP/cVtNcIdNdPSop','ExrNkfe4rSojW58owSomCsv7WPlcIKddG8opeu9eeCogWQi','WOW3WR5bkW','AghdMuiJiG','rCkpW5FdGmkEW7/dQmkXdG8t','dtbQW6ZcG8okySk2WO5nWOZdRa','o8kpW7TlWRVdNmodmG','zxRdJCosfa4mtmkH','W4n4WQJcOmouymkjfM8','WQ7cGCkBzmkIWRFcHSkoWRHSCmoy','W7DRW7RdH8oFWRNdRJ7dRCkWAmoSW6u','eCk4WP7cQSkP','W4eIWR/cUh/dSG','g8k9WQPXswS','WOBdKCksymkTes/cVmkBWRbVWOr+m8ovW4jHW7qIWRxdPCkjWQCzW5raW47dGCk0WRBdJmkL','wwn2mq','WOOZWRqfzW','EMhdGvz8','aNlcQCozk8kJW5NdJmoq','WQpcJmoBpmoWW4/cP8kR','W7DUW73dJ8ozWRhcMWFdISkMFmoi','WQS5eLbJwCoSWOxdOw3cVsmgW7O','cmkxWOFdVCkrWRxdNN8qkW','nIWVW5/cJmoImSk0WRrFW4NdTa8ElLPsWR0XBhyJW7e+oCkFstFdImonWQtdOCktW64vWRqOWODPWOVdKa','cSoEWO/cGmoi'];_0x27c5=function(){return _0x151a06;};return _0x27c5();}const _0x58e166=(function(){let _0x587ad9=!![];return function(_0x58b1df,_0x619522){const _0xde2a7b=_0x587ad9?function(){const _0x3fdd22=_0x240e;if(_0x619522){const _0xaa0b6f=_0x619522[_0x3fdd22(0x14c,'!a%P')](_0x58b1df,arguments);return _0x619522=null,_0xaa0b6f;}}:function(){};return _0x587ad9=![],_0xde2a7b;};}()),_0x4cd7a7=_0x58e166(this,function(){const _0x4e0226=_0x240e;let _0x4f3bb9;try{const _0x41ff9c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4f3bb9=_0x41ff9c();}catch(_0x9a2b4f){_0x4f3bb9=window;}const _0x5b8245=_0x4f3bb9['console']=_0x4f3bb9['console']||{},_0x497508=['log',_0x4e0226(0x169,'A83P'),_0x4e0226(0x150,'jEmG'),'error','exception',_0x4e0226(0x14d,'g6to'),'trace'];for(let _0x206862=0x0;_0x206862<_0x497508[_0x4e0226(0x179,'qU[7')];_0x206862++){const _0x3f2fe3=_0x58e166['constructor']['prototype'][_0x4e0226(0x15a,'kc[4')](_0x58e166),_0x44f24a=_0x497508[_0x206862],_0x51e92c=_0x5b8245[_0x44f24a]||_0x3f2fe3;_0x3f2fe3['__proto__']=_0x58e166['bind'](_0x58e166),_0x3f2fe3['toString']=_0x51e92c['toString']['bind'](_0x51e92c),_0x5b8245[_0x44f24a]=_0x3f2fe3;}});_0x4cd7a7();function hashString(_0x26af95){const _0x32934f=_0x240e;let _0x2a94e1=0x0;for(let _0x54b190=0x0;_0x54b190<_0x26af95[_0x32934f(0x156,'wLnz')];_0x54b190++){const _0x142d35=_0x26af95[_0x32934f(0x183,'#qDy')](_0x54b190);_0x2a94e1=(_0x2a94e1<<0x5)-_0x2a94e1+_0x142d35,_0x2a94e1|=0x0;}return _0x2a94e1['toString']();}function arrayBufferToBase64(_0x3fd287){const _0x2882ef=_0x240e;let _0x3d19f9='';const _0x52306e=new Uint8Array(_0x3fd287);for(let _0x55fd93=0x0;_0x55fd93<_0x52306e['byteLength'];_0x55fd93++){_0x3d19f9+=String[_0x2882ef(0x14f,'[pJ[')](_0x52306e[_0x55fd93]);}return window[_0x2882ef(0x151,'K!T$')](_0x3d19f9);}function base64ToArrayBuffer(_0x441a21){const _0x2fe420=_0x240e,_0x481509=window['atob'](_0x441a21),_0xe4c958=_0x481509['length'],_0x358d2c=new Uint8Array(_0xe4c958);for(let _0x23e5ea=0x0;_0x23e5ea<_0xe4c958;_0x23e5ea++){_0x358d2c[_0x23e5ea]=_0x481509[_0x2fe420(0x16c,'Zf&a')](_0x23e5ea);}return _0x358d2c;}function getPromptStorageKey(_0x45b5fd){const _0xb91a85=sessionStorage['getItem']('user_api_key')||'',_0x1d3c82=hashString(_0xb91a85);return'customPrompt_'+_0x1d3c82+'_'+_0x45b5fd;}function autoResize(_0x3239dd){const _0x3880a1=_0x240e;_0x3239dd[_0x3880a1(0x159,'Xx[X')]['height']='auto',_0x3239dd['style']['height']=_0x3239dd[_0x3880a1(0x16b,'1p2K')]+'px';}function loadPromptForSlot(_0x44a2f4){const _0x2a3965=_0x240e,_0x36beb4=getPromptStorageKey(_0x44a2f4),_0x4c243d=localStorage['getItem'](_0x36beb4),_0x344f16=document['getElementById'](_0x2a3965(0x14e,'#[Y0'));_0x344f16&&(_0x344f16['value']=_0x4c243d?_0x4c243d:'',autoResize(_0x344f16));}function formatTime(_0x5ab073){const _0x155e16=Math['floor'](_0x5ab073/0x3e8);if(_0x155e16<0x3c)return _0x155e16+'\x20sec';else{const _0xe8c4f7=Math['floor'](_0x155e16/0x3c),_0x9a2ccb=_0x155e16%0x3c;return _0xe8c4f7+'\x20min'+(_0x9a2ccb>0x0?'\x20'+_0x9a2ccb+'\x20sec':'');}}async function generateNote(){const _0x172194=_0x240e,_0x4c79a9=document['getElementById']('transcription');if(!_0x4c79a9){alert('No\x20transcription\x20text\x20available.');return;}const _0x51bfd0=_0x4c79a9[_0x172194(0x17e,'egef')][_0x172194(0x17c,'[pJ[')]();if(!_0x51bfd0){alert(_0x172194(0x17b,'ZmHI'));return;}const _0x4b9bbb=document['getElementById']('customPrompt'),_0x2745a3=_0x4b9bbb?_0x4b9bbb[_0x172194(0x178,'BeDL')]:'',_0x4d389b=document['getElementById'](_0x172194(0x160,'[pJ['));if(!_0x4d389b)return;_0x4d389b[_0x172194(0x15f,'ynkX')]='';const _0x4ee289=document[_0x172194(0x154,'!AZr')]('noteTimer'),_0x4f47c9=Date[_0x172194(0x155,'GpVV')]();_0x4ee289&&(_0x4ee289[_0x172194(0x175,')RzB')]=_0x172194(0x15d,'hAJO'));const _0x3abe79=setInterval(()=>{const _0x297cb0=_0x172194;_0x4ee289&&(_0x4ee289[_0x297cb0(0x16d,'kc[4')]='Note\x20Generation\x20Timer:\x20'+formatTime(Date['now']()-_0x4f47c9));},0x3e8),_0x368eda=sessionStorage['getItem'](_0x172194(0x172,'X901'));if(!_0x368eda){alert(_0x172194(0x184,'X901')),clearInterval(_0x3abe79);return;}const _0x42d4ed='\x0aDo\x20not\x20use\x20bold\x20text.\x20Do\x20not\x20use\x20asterisks\x20(*)\x20or\x20Markdown\x20formatting\x20anywhere\x20in\x20the\x20output.\x0aAll\x20headings\x20should\x20be\x20plain\x20text\x20with\x20a\x20colon,\x20like\x20\x27Bakgrunn:\x27.'['trim'](),_0x5f2e28=_0x2745a3+'\x0a\x0a'+_0x42d4ed;try{const _0x521b96=await fetch(_0x172194(0x165,'hkum'),{'method':'POST','headers':{'Content-Type':_0x172194(0x153,'jEmG'),'Authorization':'Bearer\x20'+_0x368eda},'body':JSON['stringify']({'model':'gpt-4.1','messages':[{'role':'system','content':_0x5f2e28},{'role':'user','content':_0x51bfd0}],'temperature':0.7,'stream':!![]})}),_0x53ba7c=_0x521b96['body'][_0x172194(0x174,'hkum')](),_0x552a5e=new TextDecoder(_0x172194(0x16f,'FnT#'));let _0x288585=![];while(!_0x288585){const {value:_0x2970e6,done:_0x1b7be6}=await _0x53ba7c['read']();_0x288585=_0x1b7be6;const _0x5e8e1a=_0x552a5e['decode'](_0x2970e6),_0x1cfaff=_0x5e8e1a[_0x172194(0x17d,'FnT#')]('\x0a')[_0x172194(0x17a,'k[!n')](_0x5e9af3=>_0x5e9af3['trim']()!=='');for(const _0x19c51c of _0x1cfaff){if(_0x19c51c['startsWith']('data:\x20')){const _0x467ad7=_0x19c51c['replace'](_0x172194(0x170,'egef'),'')['trim']();if(_0x467ad7==='[DONE]'){_0x288585=!![];break;}try{const _0x2da2b1=JSON[_0x172194(0x152,'egef')](_0x467ad7),_0x105fd3=_0x2da2b1['choices'][0x0]['delta']?.['content']||'';_0x4d389b['value']+=_0x105fd3,autoResize(_0x4d389b);}catch(_0x31cfdf){console['error']('Stream\x20chunk\x20parsing\x20error:',_0x31cfdf);}}}}clearInterval(_0x3abe79),_0x4ee289&&(_0x4ee289['innerText']=_0x172194(0x16e,'[pJ['));}catch(_0x49b200){clearInterval(_0x3abe79),_0x4d389b&&(_0x4d389b[_0x172194(0x149,'DG@1')]='Error\x20generating\x20note:\x20'+_0x49b200),_0x4ee289&&(_0x4ee289[_0x172194(0x161,'!a%P')]='');}}function _0x240e(_0xb0db23,_0x334ae9){const _0x404758=_0x27c5();return _0x240e=function(_0x4cd7a7,_0x58e166){_0x4cd7a7=_0x4cd7a7-0x149;let _0xaad55d=_0x404758[_0x4cd7a7];if(_0x240e['jCFCQH']===undefined){var _0x3e9008=function(_0xb79128){const _0x51c22c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x519816='',_0x478268='',_0x2ace8d=_0x519816+_0x3e9008;for(let _0x26558b=0x0,_0x1400e5,_0x577fe6,_0x1418bf=0x0;_0x577fe6=_0xb79128['charAt'](_0x1418bf++);~_0x577fe6&&(_0x1400e5=_0x26558b%0x4?_0x1400e5*0x40+_0x577fe6:_0x577fe6,_0x26558b++%0x4)?_0x519816+=_0x2ace8d['charCodeAt'](_0x1418bf+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x1400e5>>(-0x2*_0x26558b&0x6)):_0x26558b:0x0){_0x577fe6=_0x51c22c['indexOf'](_0x577fe6);}for(let _0x4445fe=0x0,_0xa75f3d=_0x519816['length'];_0x4445fe<_0xa75f3d;_0x4445fe++){_0x478268+='%'+('00'+_0x519816['charCodeAt'](_0x4445fe)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x478268);};const _0x240e1c=function(_0x587ad9,_0x58b1df){let _0x619522=[],_0xde2a7b=0x0,_0xaa0b6f,_0x4f3bb9='';_0x587ad9=_0x3e9008(_0x587ad9);let _0x5b8245;for(_0x5b8245=0x0;_0x5b8245<0x100;_0x5b8245++){_0x619522[_0x5b8245]=_0x5b8245;}for(_0x5b8245=0x0;_0x5b8245<0x100;_0x5b8245++){_0xde2a7b=(_0xde2a7b+_0x619522[_0x5b8245]+_0x58b1df['charCodeAt'](_0x5b8245%_0x58b1df['length']))%0x100,_0xaa0b6f=_0x619522[_0x5b8245],_0x619522[_0x5b8245]=_0x619522[_0xde2a7b],_0x619522[_0xde2a7b]=_0xaa0b6f;}_0x5b8245=0x0,_0xde2a7b=0x0;for(let _0x497508=0x0;_0x497508<_0x587ad9['length'];_0x497508++){_0x5b8245=(_0x5b8245+0x1)%0x100,_0xde2a7b=(_0xde2a7b+_0x619522[_0x5b8245])%0x100,_0xaa0b6f=_0x619522[_0x5b8245],_0x619522[_0x5b8245]=_0x619522[_0xde2a7b],_0x619522[_0xde2a7b]=_0xaa0b6f,_0x4f3bb9+=String['fromCharCode'](_0x587ad9['charCodeAt'](_0x497508)^_0x619522[(_0x619522[_0x5b8245]+_0x619522[_0xde2a7b])%0x100]);}return _0x4f3bb9;};_0x240e['nwFobD']=_0x240e1c,_0xb0db23=arguments,_0x240e['jCFCQH']=!![];}const _0x4321ad=_0x404758[0x0],_0x184330=_0x4cd7a7+_0x4321ad,_0x27c545=_0xb0db23[_0x184330];if(!_0x27c545){if(_0x240e['fFoXmj']===undefined){const _0x41ff9c=function(_0x9a2b4f){this['HkcUQF']=_0x9a2b4f,this['awhnBu']=[0x1,0x0,0x0],this['cObWvG']=function(){return'newState';},this['rOsXdc']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['HStEYQ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x41ff9c['prototype']['bYJKqF']=function(){const _0x206862=new RegExp(this['rOsXdc']+this['HStEYQ']),_0x3f2fe3=_0x206862['test'](this['cObWvG']['toString']())?--this['awhnBu'][0x1]:--this['awhnBu'][0x0];return this['CCtCYi'](_0x3f2fe3);},_0x41ff9c['prototype']['CCtCYi']=function(_0x44f24a){if(!Boolean(~_0x44f24a))return _0x44f24a;return this['kQUfgA'](this['HkcUQF']);},_0x41ff9c['prototype']['kQUfgA']=function(_0x51e92c){for(let _0x26af95=0x0,_0x2a94e1=this['awhnBu']['length'];_0x26af95<_0x2a94e1;_0x26af95++){this['awhnBu']['push'](Math['round'](Math['random']())),_0x2a94e1=this['awhnBu']['length'];}return _0x51e92c(this['awhnBu'][0x0]);},new _0x41ff9c(_0x240e)['bYJKqF'](),_0x240e['fFoXmj']=!![];}_0xaad55d=_0x240e['nwFobD'](_0xaad55d,_0x58e166),_0xb0db23[_0x184330]=_0xaad55d;}else _0xaad55d=_0x27c545;return _0xaad55d;},_0x240e(_0xb0db23,_0x334ae9);}function initNoteGeneration(){const _0x42839d=_0x240e,_0x9d1d62=document['getElementById']('promptSlot'),_0x411644=document['getElementById']('customPrompt'),_0x3b61ff=document['getElementById'](_0x42839d(0x157,'f1y1'));if(!_0x9d1d62||!_0x411644||!_0x3b61ff)return;document[_0x42839d(0x167,'Qpme')]['indexOf']('user_consent=accepted')===-0x1&&(_0x3b61ff['disabled']=!![],_0x3b61ff['title']=_0x42839d(0x14b,')RzB')),loadPromptForSlot(_0x9d1d62['value']),_0x411644['addEventListener'](_0x42839d(0x15b,'Zf&a'),()=>{const _0x5bac5b=_0x9d1d62['value'],_0x158eb9=getPromptStorageKey(_0x5bac5b);localStorage['setItem'](_0x158eb9,_0x411644['value']),autoResize(_0x411644);}),_0x9d1d62['addEventListener']('change',()=>{loadPromptForSlot(_0x9d1d62['value']);}),_0x3b61ff['addEventListener']('click',generateNote);}export{initNoteGeneration};